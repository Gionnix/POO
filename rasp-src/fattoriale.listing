1: ;int num;
2: ;leggi num;
3: ;if (num < 0) exit(-1);
4: ;int ris = fatt(num);
5: ;scrivi ris;
6: ;
7: ;int fatt(int n) {
8: ;	if (n <= 1) return 1;
9: ;	return n * fatt(n - 1);
10: ;} // fatt
11: 
12: STACK:		RES	200
13: 		READ	NUM
14: 		LOAD	NUM
15: 		JLZ	FINE
16: 		LOAD#	0
17: 		STORE	SIZE
18: 		LOAD#	STACK
19: 		ADD	SIZE
20: 		STORE	TOP
21: 		LOAD#	FINEFATT
22: 		STORE@	TOP
23: 		LOAD	TOP
24: 		ADD#	1
25: 		STORE	TOP
26: 		LOAD	NUM
27: 		STORE@	TOP
28: 		LOAD	SIZE
29: 		ADD#	2
30: 		STORE	SIZE
31: 		JUMP	FATT
32: FINEFATT:
33: 		WRITE	STACK
34: FINE:		HALT
35: FATT:
36: 		LOAD#	STACK
37: 		ADD	SIZE
38: 		SUB#	1
39: 		STORE	TOP
40: 		LOAD@	TOP
41: 		STORE	N
42: 		SUB#	1
43: 		JGZ	RECURS
44: 		LOAD#	STACK
45: 		ADD	SIZE
46: 		SUB#	2
47: 		STORE	RA
48: 		LOAD@	RA
49: 		STORE	RETADD
50: 		LOAD#	1
51: 		STORE@	RA
52: 		LOAD	SIZE
53: 		SUB#	1
54: 		STORE	SIZE
55: 		JUMP@	RETADD
56: RECURS:
57: 		LOAD#	STACK
58: 		ADD	SIZE
59: 		STORE	TOP
60: 		LOAD#	FINERECURS
61: 		STORE@	TOP
62: 		LOAD	TOP
63: 		ADD#	1
64: 		STORE	TOP
65: 		LOAD	N
66: 		SUB#	1
67: 		STORE@	TOP
68: 		LOAD	SIZE
69: 		ADD#	2
70: 		STORE	SIZE
71: 		JUMP	FATT
72: FINERECURS:
73: 		LOAD#	STACK
74: 		ADD	SIZE
75: 		SUB#	1
76: 		STORE	TOP
77: 		SUB#	1
78: 		STORE	N
79: 		LOAD@	TOP
80: 		MUL@	N
81: 		STORE	RETVAL
82: 		LOAD#	STACK
83: 		ADD	SIZE
84: 		SUB#	3
85: 		STORE	RA
86: 		LOAD@	RA
87: 		STORE	RETADD
88: 		LOAD	RETVAL
89: 		STORE@	RA
90: 		LOAD	SIZE
91: 		SUB#	2
92: 		STORE	SIZE
93: 		JUMP@	RETADD

Contenuto tabella dei simboli
FATT @ 61 size: 1 tipo: ISTR
FINE @ 60 size: 1 tipo: ISTR
FINEFATT @ 229 size: 1 tipo: DATO
FINERECURS @ 230 size: 1 tipo: DATO
N @ 231 size: 1 tipo: DATO
NUM @ 232 size: 1 tipo: DATO
RA @ 233 size: 1 tipo: DATO
RECURS @ 121 size: 1 tipo: ISTR
RETADD @ 234 size: 1 tipo: DATO
RETVAL @ 235 size: 1 tipo: DATO
SIZE @ 236 size: 1 tipo: DATO
STACK @ 237 size: 200 tipo: DATO
TOP @ 437 size: 1 tipo: DATO


Tabella codici operativi

{JNZ=19, JLZ=20, HALT=25, READ=12, LOAD=10, SUB=15, DIV=17, JZ=18, MUL=16, JLEZ=21, JGEZ=23, WRITE=13, JGZ=22, STORE=11, JUMP=24, ADD=14}

Tabella dei modi

{#=1,  =0, @=2}

Codice macchina generato

0 12
1 0
2 232
3 10
4 0
5 232
6 20
7 0
8 60
9 10
10 1
11 0
12 11
13 0
14 236
15 10
16 1
17 237
18 14
19 0
20 236
21 11
22 0
23 437
24 10
25 1
26 57
27 11
28 2
29 437
30 10
31 0
32 437
33 14
34 1
35 1
36 11
37 0
38 437
39 10
40 0
41 232
42 11
43 2
44 437
45 10
46 0
47 236
48 14
49 1
50 2
51 11
52 0
53 236
54 24
55 0
56 61
57 13
58 0
59 237
60 25
61 10
62 1
63 237
64 14
65 0
66 236
67 15
68 1
69 1
70 11
71 0
72 437
73 10
74 2
75 437
76 11
77 0
78 231
79 15
80 1
81 1
82 22
83 0
84 121
85 10
86 1
87 237
88 14
89 0
90 236
91 15
92 1
93 2
94 11
95 0
96 233
97 10
98 2
99 233
100 11
101 0
102 234
103 10
104 1
105 1
106 11
107 2
108 233
109 10
110 0
111 236
112 15
113 1
114 1
115 11
116 0
117 236
118 24
119 2
120 234
121 10
122 1
123 237
124 14
125 0
126 236
127 11
128 0
129 437
130 10
131 1
132 166
133 11
134 2
135 437
136 10
137 0
138 437
139 14
140 1
141 1
142 11
143 0
144 437
145 10
146 0
147 231
148 15
149 1
150 1
151 11
152 2
153 437
154 10
155 0
156 236
157 14
158 1
159 2
160 11
161 0
162 236
163 24
164 0
165 61
166 10
167 1
168 237
169 14
170 0
171 236
172 15
173 1
174 1
175 11
176 0
177 437
178 15
179 1
180 1
181 11
182 0
183 231
184 10
185 2
186 437
187 16
188 2
189 231
190 11
191 0
192 235
193 10
194 1
195 237
196 14
197 0
198 236
199 15
200 1
201 3
202 11
203 0
204 233
205 10
206 2
207 233
208 11
209 0
210 234
211 10
212 0
213 235
214 11
215 2
216 233
217 10
218 0
219 236
220 15
221 1
222 2
223 11
224 0
225 236
226 24
227 2
228 234
229 0
230 0
231 0
232 0
233 0
234 0
235 0
236 0
237 0
238 1
239 2
240 3
241 4
242 5
243 6
244 7
245 8
246 9
247 10
248 11
249 12
250 13
251 14
252 15
253 16
254 17
255 18
256 19
257 20
258 21
259 22
260 23
261 24
262 25
263 26
264 27
265 28
266 29
267 30
268 31
269 32
270 33
271 34
272 35
273 36
274 37
275 38
276 39
277 40
278 41
279 42
280 43
281 44
282 45
283 46
284 47
285 48
286 49
287 50
288 51
289 52
290 53
291 54
292 55
293 56
294 57
295 58
296 59
297 60
298 61
299 62
300 63
301 64
302 65
303 66
304 67
305 68
306 69
307 70
308 71
309 72
310 73
311 74
312 75
313 76
314 77
315 78
316 79
317 80
318 81
319 82
320 83
321 84
322 85
323 86
324 87
325 88
326 89
327 90
328 91
329 92
330 93
331 94
332 95
333 96
334 97
335 98
336 99
337 100
338 101
339 102
340 103
341 104
342 105
343 106
344 107
345 108
346 109
347 110
348 111
349 112
350 113
351 114
352 115
353 116
354 117
355 118
356 119
357 120
358 121
359 122
360 123
361 124
362 125
363 126
364 127
365 128
366 129
367 130
368 131
369 132
370 133
371 134
372 135
373 136
374 137
375 138
376 139
377 140
378 141
379 142
380 143
381 144
382 145
383 146
384 147
385 148
386 149
387 150
388 151
389 152
390 153
391 154
392 155
393 156
394 157
395 158
396 159
397 160
398 161
399 162
400 163
401 164
402 165
403 166
404 167
405 168
406 169
407 170
408 171
409 172
410 173
411 174
412 175
413 176
414 177
415 178
416 179
417 180
418 181
419 182
420 183
421 184
422 185
423 186
424 187
425 188
426 189
427 190
428 191
429 192
430 193
431 194
432 195
433 196
434 197
435 198
436 199
437 0

